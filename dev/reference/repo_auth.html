<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Authenticated repositories — repo_auth • pak</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Authenticated repositories — repo_auth"><meta name="description" content="pak supports HTTP basic authentication when interacting with
CRAN-like repositories. To use authentication, include a username
in the repo URL:
https://&amp;lt;username&amp;gt;@&amp;lt;repo-host&amp;gt;/&amp;lt;repo-path&amp;gt;
"><meta property="og:description" content="pak supports HTTP basic authentication when interacting with
CRAN-like repositories. To use authentication, include a username
in the repo URL:
https://&amp;lt;username&amp;gt;@&amp;lt;repo-host&amp;gt;/&amp;lt;repo-path&amp;gt;
"><meta name="robots" content="noindex"><script defer data-domain="/pak.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pak</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.9.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/get-started.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/faq.html">FAQ</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/pak/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Authenticated repositories</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/pak/blob/main/R/repo.R" class="external-link"><code>R/repo.R</code></a></small>
      <div class="d-none name"><code>repo_auth.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>pak supports HTTP basic authentication when interacting with
CRAN-like repositories. To use authentication, include a username
in the repo URL:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>https<span class="sc">:</span><span class="er">//&lt;</span>username<span class="sc">&gt;</span><span class="er">@&lt;</span>repo<span class="sc">-</span>host<span class="sc">&gt;</span><span class="er">/&lt;</span>repo<span class="sc">-</span>path<span class="sc">&gt;</span></span></code></pre><p></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">repo_auth</span><span class="op">(</span></span>
<span>  r_version <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric_version.html" class="external-link">getRversion</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  bioc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cran_mirror <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  check_credentials <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-r-version">r_version<a class="anchor" aria-label="anchor" href="#arg-r-version"></a></dt>
<dd><p>R version to use to determine the correct Bioconductor
version, if <code>bioc = TRUE</code>.</p></dd>


<dt id="arg-bioc">bioc<a class="anchor" aria-label="anchor" href="#arg-bioc"></a></dt>
<dd><p>Whether to automatically add the Bioconductor repositories
to the result.</p></dd>


<dt id="arg-cran-mirror">cran_mirror<a class="anchor" aria-label="anchor" href="#arg-cran-mirror"></a></dt>
<dd><p>CRAN mirror to use. Leave it at <code>NULL</code> to use the
mirror in <code>getOption("repos")</code> or an automatically selected one.</p></dd>


<dt id="arg-check-credentials">check_credentials<a class="anchor" aria-label="anchor" href="#arg-check-credentials"></a></dt>
<dd><p>Whether to check that credentials are
available for authenticated repositories.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Data frame with columns:</p><ul><li><p>all columns from the output of <code><a href="repo_get.html">repo_get()</a></code>,</p></li>
<li><p><code>auth_domains</code>: authentication domains. pak tries to find the
credentials for these domains, until the search is successful or all
domains fail.</p></li>
<li><p><code>auth_domain</code>: if the credential lookup is successful, then this is
the authentication domain that was used to get the credentials.</p></li>
<li><p><code>auth_source</code>: where the credentials were found. E.g.
<code>keyring:&lt;backend&gt;</code> means it was in the default macos keyring.</p></li>
<li><p><code>auth_error</code>: for failed credential searches this is the description
of why the search failed. E.g. maybe the keyring package is not
installed, or pak found no credentials for any of the
authentication domains.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>pak will look up the password for this url and username from the
the user's <code>.netrc</code> file and from the system credential store using
the keyring package.</p><div class="section">
<h3 id="-netrc-files">`.netrc“ files<a class="anchor" aria-label="anchor" href="#-netrc-files"></a></h3>


<p>First pak searches in the <code>.netrc</code> file. If the <code>NETRC</code> environment
variable is set, pak uses its value to determine the location of the
<code>netrc</code> file.</p>
<p>Otherwise pak looks for the <code>netrc</code> file in current user's home
directory, at <code>~/.netrc</code>. On Windows it also looks for <code>~/_netrc</code> if the
file starting with a dot does not exist.</p>
<p>If you create a <code>netrc</code> file, make sure that is only readable by you.
E.g. on Unix run</p>
<p></p><div class="sourceCode sh"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">chmod</span> 600 ~/.netrc</span></code></pre><p></p></div>
<p><code>netrc</code> files are simple text files that can store passwords for multiple
hosts. They may contain three types of tokens:</p><div class="section">
<h4 id="machine-lt-hostname-gt-"><code>machine &lt;hostname&gt;</code><a class="anchor" aria-label="anchor" href="#machine-lt-hostname-gt-"></a></h4>


<p>A host name, without the protocol. Subsequent <code>login</code> and <code>password</code>
tokens belong to this host, until another <code>machine</code> token is found, or
the end of file.</p>
</div>

<div class="section">
<h4 id="login-lt-username-gt-"><code>login &lt;username&gt;</code><a class="anchor" aria-label="anchor" href="#login-lt-username-gt-"></a></h4>


<p>User name. It must be preceded by a <code>machine</code> token.</p>
</div>

<div class="section">
<h4 id="password-lt-password-gt-"><code>password &lt;password&gt;</code><a class="anchor" aria-label="anchor" href="#password-lt-password-gt-"></a></h4>


<p>Password. It must be preceded by a <code>machine</code> and a <code>login</code> token.</p>
<p>Whitespace is ignored in <code>netrc</code> files. You may include multiple tokens
on the same line, or have one token per line. Here is an example:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>machine myhost.mydomain.com login myuser password secret</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>machine myhost2.mydomain.com</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>login myuser</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>password secret</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>login anotheruser</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>password stillsecret</span></code></pre><p></p></div>
<p>If you need to include whitespace in a password, put the password in double
quotes.</p>
</div>


</div>

<div class="section">
<h3 id="the-system-credential-store">The system credential store<a class="anchor" aria-label="anchor" href="#the-system-credential-store"></a></h3>


<p>pak currently supports the following keyring
backends:</p><ul><li><p>Windows credential store,</p></li>
<li><p>macOS Keychain,</p></li>
<li><p>Linux Secret Service via libsecret, if built with libsecret support,</p></li>
<li><p>environment variables.</p></li>
</ul><p>For the URL above it tries the following keyring
keys, in this order:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>https<span class="sc">:</span><span class="er">//&lt;</span>username<span class="sc">&gt;</span><span class="er">@</span>repo<span class="sc">-</span>host<span class="sc">/</span><span class="er">&lt;</span>repo<span class="sc">-</span>path<span class="sc">&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>https<span class="sc">:</span><span class="er">//</span>repo<span class="sc">-</span>host<span class="sc">/</span><span class="er">&lt;</span>repo<span class="sc">-</span>path<span class="sc">&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>https<span class="sc">:</span><span class="er">//&lt;</span>username<span class="sc">&gt;</span><span class="er">@</span>repo<span class="sc">-</span>host</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>https<span class="sc">:</span><span class="er">//</span>repo<span class="sc">-</span>host</span></code></pre><p></p></div>
<p>To add an authenticated repository use <code><a href="repo_add.html">repo_add()</a></code> with the <code>username</code>
argument. Alternatively, you can set the <code>repos</code> option directly using
<code><a href="https://rdrr.io/r/base/options.html" class="external-link">base::options()</a></code> and including the username in the repository URL.</p>
<p><code>repo_auth()</code> lists authentication information for all configured
repositories.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="repo-auth.html">Authenticated repositories</a>.</p>
<p>Other authenticated repositories:
<code><a href="repo-auth.html">Authenticated repositories</a></code>,
<code><a href="repo_auth_key_get.html">repo_auth_key_get</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://jimhester.com" class="external-link">Jim Hester</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>, Ascent Digital Services, R Consortium.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

  </div></footer></body></html>

