<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Find the ideal set of packages and versions to install — The dependency solver • pak</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Find the ideal set of packages and versions to install — The dependency solver"><meta name="description" content="pak contains a package dependency solver, that makes sure that the
package source and version requirements of all packages are satisfied,
before starting an installation. For CRAN and BioC packages this is
usually automatic, because these repositories are generally in a
consistent state. If packages depend on other other package sources,
however, this is not the case."><meta property="og:description" content="pak contains a package dependency solver, that makes sure that the
package source and version requirements of all packages are satisfied,
before starting an installation. For CRAN and BioC packages this is
usually automatic, because these repositories are generally in a
consistent state. If packages depend on other other package sources,
however, this is not the case."><meta name="robots" content="noindex"><script defer data-domain="/pak.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pak</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.8.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/get-started.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/faq.html">FAQ</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/pak/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Find the ideal set of packages and versions to install</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/pak/blob/main/R/docs.R" class="external-link"><code>R/docs.R</code></a></small>
      <div class="d-none name"><code>pak_solver.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>pak contains a package dependency solver, that makes sure that the
package source and version requirements of all packages are satisfied,
before starting an installation. For CRAN and BioC packages this is
usually automatic, because these repositories are generally in a
consistent state. If packages depend on other other package sources,
however, this is not the case.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Here is an example of a conflict detected:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="sc">&gt;</span> pak<span class="sc">::</span><span class="fu">pkg_install</span>(<span class="fu">c</span>(<span class="st">"r-lib/pkgcache@conflict"</span>, <span class="st">"r-lib/cli@message"</span>))</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>Error<span class="sc">:</span> Cannot install packages<span class="sc">:</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="er">*</span> Cannot install <span class="st">`</span><span class="at">r-lib/pkgcache@conflict</span><span class="st">`</span>.</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    <span class="sc">-</span> Cannot install dependency r<span class="sc">-</span>lib<span class="sc">/</span>cli<span class="sc">@</span>main</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="sc">*</span> Cannot install <span class="st">`</span><span class="at">r-lib/cli@main</span><span class="st">`</span>.</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="sc">-</span> Conflicts r<span class="sc">-</span>lib<span class="sc">/</span>cli<span class="sc">@</span>message</span></code></pre><p></p></div>
<p><code>r-lib/pkgcache@conflict</code> depends on the main branch of <code>r-lib/cli</code>,
whereas, we explicitly requested the <code>message</code> branch. Since it cannot
install both versions into a single library, pak quits.</p>
<p>When pak considers a package for installation, and the package is given
with its name only, (e.g. as a dependency of another package), then
the package may have <em>any</em> package source. This is necessary, because
one R package library may contain only at most one version of a package
with a given name.</p>
<p>pak's behavior is best explained via an example.
Assume that you are installing a local package (see below), e.g.
<code>local::.</code>, and the local package depends on <code>pkgA</code> and <code>user/pkgB</code>,
the latter being a package from GitHub (see below), and that <code>pkgA</code>
also depends on <code>pkgB</code>. Now pak must install <code>pkgB</code> <em>and</em> <code>user/pkgB</code>.
In this case pak interprets <code>pkgB</code> as a package from any package source,
instead of a standard package, so installing <code>user/pkgB</code> satisfies both
requirements.</p>
<p>Note that that <code>cran::pkgB</code> and <code>user/pkgB</code> requirements result a
conflict that pak cannot resolve. This is because the first one <em>must</em>
be a CRAN package, and the second one <em>must</em> be a GitHub package, and
two different packages with the same cannot be installed into an R
package library.</p>
    </div>

  </main></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://jimhester.com" class="external-link">Jim Hester</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>, Ascent Digital Services, R Consortium.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

  </div></footer></body></html>

